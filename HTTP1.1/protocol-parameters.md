## 协议相关参数

### HTTP版本号

HTTP版本号采用`<major>.<minor>`的形式，通信双方通过版本号的沟通获知消息的格式与HTTP通信的能力
* minor递增：协议中消息格式不改变，但可能会有消息语义或其他功能的改动
* major递增：协议中消息格式被改变

HTTP版本号在消息的第一行指定，采用格式为

	HTTP-Version   = "HTTP" "/" <major> "." <minor>

`<major>`和`<minor>`中的前导0将不会被发送，并且会被接收方忽略

* 网关和代理不能发送高于其实际HTTP版本的信息，故当其收到高版本的HTTP请求时，需要做版本降级或使用隧道，或者返回错误码
* 网关和代理的响应必须和请求的`major`版本号相同，属于历史遗留问题

### 3.2 URI

URI代表一个资源的标识符，资源的类型可以使多种多样的

URI分为绝对路径和相对路径，其中相对路径依赖于已知的基准URI，绝对路径以协议名，后跟冒号
* HTTP协议不会对URI长度做任何限制
* URI如果过长导致服务器不能处理，会返回414

#### http URL

	http_URL = "http:" "//" host [ ":" port ] [ abs_path [ "?" query ]]

* port默认80，表明资源所在主机的TCO服务监听端口号
* abs_path：资源请求路径，当不使用时，应当使用`/`代替，作为通用请求路径、在host为IP地址时，应该避免使用abs_path
* **当代理收到的host不是一个完整host时，可能会进行补全**，但是如果收到的时完整的host，不得进行更改

	如将`baidu.com`补全为`https://www.baidu.com/`

#### URI 比较

* 端口号为空或未给出等同于默认端口号
* **协议与host大小写不敏感，其他大小写敏感**
* 空的path使用`/`代替
* 字符可以使用16进制编码

### 3.4 字符集

HTTP中使用与MIME相同的字符集定义

	charset = token

取值大小写敏感

* 一些HTTP/1.0中Content-Type如果没有charset参数，则接收方会自行猜测。但是部分老版本的HTTP/1.0不能正确处理charset参数
* HTTP/1.1规定必须正确处理Content-Type中的charset参数，如果支持该字符集的则必须使用

### 3.5 内容编码

内容编码表示对内容进行编码转换，主要是用于允许一个文档被压缩或者有用的改变而不失去其底层媒体类型的身份,没有信息丢失，由接收方进行解码

	content-coding = token

取值大小写敏感，HTTP/1.1在`Accept-Encoding`和`Content-Encoding`中使用内容编码

### 3.6 传输编码

传输编码`transfer-coding`是指为确保网络安全传输，对消息进行编码。

与内容编码区别在于传输编码针对消息，内容编码针对内容实体